"use strict";(self.webpackChunkcivitai_developer=self.webpackChunkcivitai_developer||[]).push([[8449],{3905:(t,e,a)=>{a.d(e,{Zo:()=>m,kt:()=>k});var n=a(67294);function r(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function i(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach((function(e){r(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function o(t,e){if(null==t)return{};var a,n,r=function(t,e){if(null==t)return{};var a,n,r={},l=Object.keys(t);for(n=0;n<l.length;n++)a=l[n],e.indexOf(a)>=0||(r[a]=t[a]);return r}(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(n=0;n<l.length;n++)a=l[n],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(r[a]=t[a])}return r}var p=n.createContext({}),s=function(t){var e=n.useContext(p),a=e;return t&&(a="function"==typeof t?t(e):i(i({},e),t)),a},m=function(t){var e=s(t.components);return n.createElement(p.Provider,{value:e},t.children)},u="mdxType",d={inlineCode:"code",wrapper:function(t){var e=t.children;return n.createElement(n.Fragment,{},e)}},c=n.forwardRef((function(t,e){var a=t.components,r=t.mdxType,l=t.originalType,p=t.parentName,m=o(t,["components","mdxType","originalType","parentName"]),u=s(a),c=r,k=u["".concat(p,".").concat(c)]||u[c]||d[c]||l;return a?n.createElement(k,i(i({ref:e},m),{},{components:a})):n.createElement(k,i({ref:e},m))}));function k(t,e){var a=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var l=a.length,i=new Array(l);i[0]=c;var o={};for(var p in e)hasOwnProperty.call(e,p)&&(o[p]=e[p]);o.originalType=t,o[u]="string"==typeof t?t:r,i[1]=o;for(var s=2;s<l;s++)i[s]=a[s];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}c.displayName="MDXCreateElement"},91883:(t,e,a)=>{a.r(e),a.d(e,{assets:()=>p,contentTitle:()=>i,default:()=>u,frontMatter:()=>l,metadata:()=>o,toc:()=>s});var n=a(87462),r=(a(67294),a(3905));const l={title:"Post Intent System"},i="Post Intent System",o={unversionedId:"post-intent-system",id:"post-intent-system",title:"Post Intent System",description:"Twitter style Web Intents but for Civitai",source:"@site/docs/post-intent-system.md",sourceDirName:".",slug:"/post-intent-system",permalink:"/docs/post-intent-system",draft:!1,tags:[],version:"current",frontMatter:{title:"Post Intent System"},sidebar:"tutorialSidebar",previous:{title:"Diffusion Partner Program",permalink:"/docs/diffusion-partner-program"}},p={},s=[{value:"What it Does",id:"what-it-does",level:3},{value:"Base URL",id:"base-url",level:3},{value:"Media Requirements",id:"media-requirements",level:3},{value:"Query Parameters",id:"query-parameters",level:3},{value:"Details URL Structure",id:"details-url-structure",level:3},{value:"Example Request URL",id:"example-request-url",level:3},{value:"Example Details URL Response",id:"example-details-url-response",level:3}],m={toc:s};function u(t){let{components:e,...a}=t;return(0,r.kt)("wrapper",(0,n.Z)({},m,a,{components:e,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"post-intent-system"},"Post Intent System"),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},(0,r.kt)("a",{parentName:"em",href:"https://developer.twitter.com/en/docs/twitter-for-websites/tweet-button/guides/web-intent"},"Twitter style Web Intents")," but for Civitai")),(0,r.kt)("h3",{id:"what-it-does"},"What it Does"),(0,r.kt)("p",null,"It brings the user to a Civitai page with pre-made values for creating a media post. You can also set up an endpoint that will allow us to pull additional metadata about how the media was created so that we can present those details along-side the media, making it easier for other people to jump into your app and make something similar."),(0,r.kt)("h3",{id:"base-url"},"Base URL"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"https://civitai.com/intent/post")),(0,r.kt)("h3",{id:"media-requirements"},"Media Requirements"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"CORS enabled"),(0,r.kt)("li",{parentName:"ul"},"Accepts images",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Types: ",(0,r.kt)("inlineCode",{parentName:"li"},"png, jpg, jpeg, webp")),(0,r.kt)("li",{parentName:"ul"},"Max size: ",(0,r.kt)("inlineCode",{parentName:"li"},"50 MB")))),(0,r.kt)("li",{parentName:"ul"},"Accepts video",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Types: ",(0,r.kt)("inlineCode",{parentName:"li"},"mp4, webm")),(0,r.kt)("li",{parentName:"ul"},"Max size: ",(0,r.kt)("inlineCode",{parentName:"li"},"500 MB")),(0,r.kt)("li",{parentName:"ul"},"Max duration: ",(0,r.kt)("inlineCode",{parentName:"li"},"120 seconds")),(0,r.kt)("li",{parentName:"ul"},"Max dimensions: ",(0,r.kt)("inlineCode",{parentName:"li"},"4k"))))),(0,r.kt)("h3",{id:"query-parameters"},"Query Parameters"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Name"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Restrictions"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"mediaUrl"),(0,r.kt)("td",{parentName:"tr",align:null},"string*"),(0,r.kt)("td",{parentName:"tr",align:null},"URL"),(0,r.kt)("td",{parentName:"tr",align:null},"Absolute URL of the media to post")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"title"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"Title to use for the post")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"description"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"Text to use in the description of the post")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"tags"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"Comma-separated,",(0,r.kt)("br",null),"Max of 5"),(0,r.kt)("td",{parentName:"tr",align:null},"Tags to apply to the post")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"detailsUrl"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"URL"),(0,r.kt)("td",{parentName:"tr",align:null},"URL we should call to get additional parameters for the media (JSON).",(0,r.kt)("br",null),"They can include parameters specific to your service so that people can have a better idea of how the media was made.",(0,r.kt)("br",null),"Only for approved domains - contact us to be added.")))),(0,r.kt)("h3",{id:"details-url-structure"},"Details URL Structure"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Name"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Restrictions"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"source"),(0,r.kt)("td",{parentName:"tr",align:null},"object"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"Name and/or homepage for your service")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"source.name"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"Name of your service")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"source.homepage"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"URL"),(0,r.kt)("td",{parentName:"tr",align:null},"Your service's home URL")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"createUrl"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"URL"),(0,r.kt)("td",{parentName:"tr",align:null},"Link back to the URL used to create the media")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"referenceUrl"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"URL"),(0,r.kt)("td",{parentName:"tr",align:null},"URL to link back to the source of the media")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"details"),(0,r.kt)("td",{parentName:"tr",align:null},"object"),(0,r.kt)("td",{parentName:"tr",align:null},"Max 10 params"),(0,r.kt)("td",{parentName:"tr",align:null},"Key-value object for custom parameters specific to your service.",(0,r.kt)("br",null))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"details.","[key: string]"),(0,r.kt)("td",{parentName:"tr",align:null},"string ","|"," number ","|"," boolean"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"Key-value pair")))),(0,r.kt)("h3",{id:"example-request-url"},"Example Request URL"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"https://civitai.com/intent/post\n    ?mediaUrl=https://yoursite.com/image.jpg\n    &title=New%20Post&description=my%20great%20image\n    &tags=person,forest,green\n    &detailsUrl=https://yoursite.com/api/image-details/123\n")),(0,r.kt)("h3",{id:"example-details-url-response"},"Example Details URL Response"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'"source": {\n  "name": "Your Service",\n  "homepage": "https://yoursite.com"\n},\n"createUrl": "https://yoursite.com/create/img?prompt=person%20in%20forest",\n"referenceUrl": "https://yoursite.com/images/[id]",\n"details": {\n    "myParam": "special",\n    "otherParam": 2,\n    "anotherParam": true\n}\n')))}u.isMDXComponent=!0}}]);